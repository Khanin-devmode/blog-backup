---
title: "Easy Dark Mode Setup in Flutter: Counter App Example"
slug: easy-dark-mode-setup-in-flutter-counter-app-example

---

Dark mode in Flutter is very simple to implement. Specifies themes for each dark and light mode and then toggles states between the two. The example below shows a minimalistic setup starting from the counter app.

## Specify themes for both light and dark mode.

In `MaterialApp` widget specifies a `ThemeData()` for both to `theme:` and `darkTheme:` which corresponds to light and dark mode respectively. Also

```dart
class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      theme: ThemeData.light(), // <-- Specify light ThemeData().
      darkTheme: ThemeData.dark(), // <-- Specify dark ThemeData().
      home: const MyHomePage(title: 'Flutter Demo Home Page'),
    );
  }
}
```

In the example, I use named constructors `ThemeData().light()` and `ThemeData().dark()` for convenience. But in real projects, we would create custom ThemeData and specify them here.

To switch between light and dark themes. We could add `themeMode:` properties like the following.

```dart
class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Demo',
      theme: ThemeData.light(), 
      darkTheme: ThemeData.dark(), 
      //Add themeMode: property, which need isLightTheme state.
      themeMode: isLightTheme ? ThemeMode.light : ThemeMode.dark,
      home: const MyHomePage(title: 'Flutter Demo Home Page'),
    );
  }
}
```

But to make the above code work without using a third-party state management library can be a bit tedious. We have to change MyApp to StatefulWidget and pass down the function to toggle state down the widget tree.

In this example, I will use Riverpod library for state management, which helps lift the state up and allow widgets in the tree to access and update the state without passing any functions down the widget tree. This might look like a lot more work to do but actually can be easily done in very few lines.

# Manage state for change themes.

`flutter pub add flutter_riverpod`

* add provider scope
    
* create provider
    
* change to consumer widget
    
* listen to provider
    
* update state via provider
    
* convert to consumer stateful widget
    
* listen to provider
    
* update state via switch.