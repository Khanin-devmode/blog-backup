---
title: "Controlling what to expose as public api in Flutter package."
slug: controlling-what-to-expose-as-public-api-in-flutter-package

---

When developing a package in Flutter, it's crucial to manage what classes are exposed to the user and to regulate how these classes are imported. Without such control, making updates to the package could become challenging and difficult to maintain due to potential conflicts arising from improper import paths. Let's delve into an example for clarity.

I have experienced a project, which has a lot of custom library, that has files which import tag filled the page when it first open. This is problematic in term of maintainability and beauty.

Main problem is from importing class, usually widgets, directly from the file. Results in many import lines. Without the right setup user will be able to import directly as class in Dart is expose as public by default. You will be surprise how these problems can easily be prevented. Let's look at the following project structure.

```plaintext
ui_package_example_1/
├── lib/
│   ├── widgets/
│   │   ├── custom_button.dart
│   │   └── custom_textField.dart
│   │   └── custom_icon.dart
│   ├── custom_widgets.dart
├── pubspec.yaml
└── README.md
```

You might think creating export files, custom\_widgets.dart, will solve the issue. Yes, partially, custom\_widgets.dart will let user import only one file to be able to use all custom widgets. BUT cause of the problem was not from adding additional way to imports. Even with this import file user will still be able to import from the widget file directly. Real problem is that these files still expose to users and our code editor's intellisense even help them to import directly.

The solution is easy, just put file that we don't want to expose automatically in src folder. Like following structure.

```plaintext
ui_package_example_1/
├── lib/
│   ├── src/
│   │   ├── custom_button.dart
│   │   └── custom_textField.dart
│   │   └── custom_icon.dart
│   ├── custom_widgets.dart
├── pubspec.yaml
└── README.md
```

For simplicity I just change widgets folder to src folder. In actual project you will want to keep folder structure that is meaningful under src folder.

Now user can only import what we export in customer widgets.dart. It is simple yes, but with out realizing this your package will be a real hassle to maintain and not so pretty.