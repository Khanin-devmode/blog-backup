---
title: "เคาน์เตอร์แอพด้วย bloc ในหน้าเดียว แบบจบๆ"
slug: bloc

---

Bloc เป็น library สำหรับ state management รูปแบบหนึ่งทีนิยมใช้กันใน Flutter จุดประสงค์ของการใช้ state management หลักๆก็คือการอ่านและเขียน state ที่ใช้ร่วมกันในหลายๆวิดเจ็ตได้สะดวกและมีประสิทธิภาพมากขึ้น เพราะไม่เช่นนั้นการอัพเดต state จะต้องเป็นการส่งต่อจากวิดเจ็ตแม่ลงมาเรื่อยๆ ซึ่งยากต่อการเขียนและแก้ไขอย่างมาก

Bloc library เองจริงๆก็มีตัวอย่าง ในการใช้ Bloc กับเคาน์เตอร์แอพอยู่แล้วด้วย ซึ่งโค้ดที่เป็นตัวอย่างในบทความนี้ก็จะคัดลอกมาจากตัวอย่างจากทางเอกสารนี้เลย แต่จะคัดเลือกและเรียบเรียงให้สั้นและเข้าใจง่ายขึ้น ใน document แอพ counter จะพูดถึง BlocObserver ก่อนเลย ซึ่งจริงๆแล้วไม่ใช่ตัวหลักที่ทำให้ bloc ทำงานแต่จะทำหน้าที่แค่เฝ้าดู(observe)ถึงการเปลี่ยนแปลงของ bloc เท่านั้นในตัวอย่างนี้จะตัดเนื้อหานี้ออกไปเพื่อให้ตรงประเด็น

Bloc library จะมีวิธีการสร้างสองรูปแบบคือรูปแบบที่เป็นแบบมาตรฐานของ Bloc ที่เป็น event-driven และอีกรูปแบบนึงที่เป็น Cubit ที่เป็น function-driven